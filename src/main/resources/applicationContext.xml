<?xml version="1.0" encoding="UTF-8"?>
<!-- <beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" 
       xmlns:task="http://www.springframework.org/schema/task"
	   xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd
				http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd"
       default-autowire="no"> -->

<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:tx="http://www.springframework.org/schema/tx"
	   xmlns:p="http://www.springframework.org/schema/p"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:task="http://www.springframework.org/schema/task"
	   xmlns:aop="http://www.springframework.org/schema/aop"
	   xmlns:cache="http://www.springframework.org/schema/cache"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/tx 
                           http://www.springframework.org/schema/tx/spring-tx.xsd
                           http://www.springframework.org/schema/context 
                           http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/task 
                           http://www.springframework.org/schema/task/spring-task.xsd
                           http://www.springframework.org/schema/aop 
                           http://www.springframework.org/schema/aop/spring-aop.xsd
                           http://www.springframework.org/schema/cache
                           http://www.springframework.org/schema/cache/spring-cache.xsd"
	   default-autowire="no">



	<!--
		load properties from additional property files; oscar.properties is
		already loaded
	-->
	<aop:aspectj-autoproxy proxy-target-class="true"/>

	<bean class="ca.openosp.openo.config.ServletContextConfig"/>
    <!-- Enable annotation-driven transaction management with CGLIB proxies -->
    <tx:annotation-driven proxy-target-class="true"/>
	<bean id="propertyConfigurer" class="ca.openosp.openo.commn.OscarPropertyPlaceholderConfigurer">
		<property name="locations">
			<list>
				<value>classpath:oscar_mcmaster.properties</value>
			</list>
		</property>
	</bean>

	<!-- Enable Spring Cache -->
	<cache:annotation-driven />

	<!-- EhCache Cache Manager -->
	<bean id="cacheManager" class="org.springframework.cache.ehcache.EhCacheCacheManager">
		<constructor-arg ref="ehcacheManager"/>
	</bean>

	<!-- EhCache Factory Bean -->
	<bean id="ehcacheManager" class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean">
		<property name="configLocation" value="classpath:ehcache.xml"/>
	</bean>

	<!-- setup JPA -->
	<import resource="classpath:spring_jpa.xml" />

	<!-- setup hibernate -->
	<import resource="classpath:spring_hibernate.xml" />

	<!-- setup managers -->
	<import resource="classpath:spring_managers.xml" />

	<!-- setup CXF -->
	<import resource="classpath:spring_ws.xml" />
	<!-- <context:component-scan base-package="org.oscarehr.commons.daos" /> -->
	
	<bean id="hl7HandlerMSHMappingDao" class="ca.openosp.openo.commn.dao.HL7HandlerMSHMappingDaoImpl" autowire="byName" />
	<!-- hibernated DAO -->
    <bean id="gstControlDao" class="ca.openosp.openo.billing.CA.dao.GstControlDaoImpl" autowire="byName" />
	<bean id="programDao" class="ca.openosp.openo.PMmodule.dao.ProgramDaoImpl" autowire="byName" />
	<bean id="programQueueDao" class="ca.openosp.openo.PMmodule.dao.ProgramQueueDaoImpl" autowire="byName" />
	<bean id="clientReferralDAO" class="ca.openosp.openo.PMmodule.dao.ClientReferralDAOImpl" autowire="byName" />
	<bean id="agencyDao" class="ca.openosp.openo.PMmodule.dao.AgencyDaoImpl" autowire="byName" />
	<bean id="providerDao" class="ca.openosp.openo.PMmodule.dao.ProviderDaoImpl" autowire="byName" />
	<bean id="otherIdDao" class="ca.openosp.openo.commn.dao.OtherIdDAOImpl" autowire="byName" />

	<bean id="CaseManagementIssueDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementIssueDAOImpl" autowire="byName" />
	<bean id="caseManagementIssueDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementIssueDAOImpl" autowire="byName" />
	<bean id="CaseManagementNoteDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementNoteDAOImpl" autowire="byName" />
	<bean id="caseManagementNoteDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementNoteDAOImpl" autowire="byName" />
	<bean id="CaseManagementTmpSaveDao" class="ca.openosp.openo.commn.dao.CaseManagementTmpSaveDaoImpl" autowire="byName" />
	<bean id="caseManagementTmpSaveDao" class="ca.openosp.openo.commn.dao.CaseManagementTmpSaveDaoImpl" autowire="byName" />
	<bean id="CaseManagementNoteExtDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementNoteExtDAOImpl" autowire="byName" />
	<bean id="CaseManagementNoteLinkDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementNoteLinkDAOImpl" autowire="byName" />
	<bean id="CaseManagementCPPDAO" class="ca.openosp.openo.casemgmt.dao.CaseManagementCPPDAOImpl" autowire="byName" />
	<bean id="queueDao" class="ca.openosp.openo.commn.dao.QueueDaoImpl" autowire="byName" />
	<bean id="waitingListNameDao" class="ca.openosp.openo.commn.dao.WaitingListNameDaoImpl" autowire="byName" />
	
	
	
	 <bean id="appointmentArchiveDao" class="ca.openosp.openo.commn.dao.AppointmentArchiveDaoImpl" autowire="byName" />
	<bean id="appointmentTypeDao" class="ca.openosp.openo.commn.dao.AppointmentTypeDaoImpl" autowire="byName" />
	<bean id="billingONCHeader1Dao" class="ca.openosp.openo.commn.dao.BillingONCHeader1DaoImpl" autowire="byName" />
	
	<bean id="DxDao" class="ca.openosp.openo.commn.dao.DxDaoImpl" autowire="byName" />
	<bean id="CasemgmtNoteLockDao" class="ca.openosp.openo.commn.dao.CasemgmtNoteLockDaoImpl" autowire="byName" />
	
	<bean id="AllergyDao" class="ca.openosp.openo.commn.dao.AllergyMergedDemographicDaoImpl" autowire="byName" />
	<bean id="allergyDao" class="ca.openosp.openo.commn.dao.AllergyMergedDemographicDaoImpl" autowire="byName" />
	<bean id="secRoleDao" class="ca.openosp.openo.commn.dao.SecRoleDaoImpl" autowire="byName" />
	<bean id="IssueDAO" class="ca.openosp.openo.casemgmt.dao.IssueDAOImpl" autowire="byName" />
	<bean id="secroleDao" class="ca.openosp.openo.daos.security.SecroleDaoImpl" autowire="byName"/>
	<bean id="RoleProgramAccessDAO" class="ca.openosp.openo.casemgmt.dao.RoleProgramAccessDAOImpl" autowire="byName" />
	<bean id="clientImageDAO" class="ca.openosp.openo.casemgmt.dao.ClientImageDAOImpl" autowire="byName" />
	<bean id="programProviderDAO" class="ca.openosp.openo.PMmodule.dao.ProgramProviderDAOImpl" autowire="byName" />
	<bean id="programFunctionalUserDAO" class="ca.openosp.openo.PMmodule.dao.ProgramFunctionalUserDAOImpl" autowire="byName" />
	<bean id="programAccessDAO" class="ca.openosp.openo.PMmodule.dao.ProgramAccessDAOImpl" autowire="byName" />
	<bean id="defaultRoleAccessDAO" class="ca.openosp.openo.PMmodule.dao.DefaultRoleAccessDAOImpl" autowire="byName" />
	<bean id="programClientStatusDAO" class="ca.openosp.openo.PMmodule.dao.ProgramClientStatusDAOImpl" autowire="byName" />
	<bean id="programTeamDAO" class="ca.openosp.openo.PMmodule.dao.ProgramTeamDAOImpl" autowire="byName" />
	<bean id="demographicDao" class="ca.openosp.openo.commn.dao.DemographicDaoImpl" autowire="byName" />
	<bean id="secUserRoleDao" class="ca.openosp.openo.PMmodule.dao.SecUserRoleDaoImpl" autowire="byName"/>
	<bean id="programSignatureDao" class="ca.openosp.openo.PMmodule.dao.ProgramSignatureDaoImpl" autowire="byName" />
	<bean id="programClientRestrictionDAO" class="ca.openosp.openo.PMmodule.dao.ProgramClientRestrictionDAOImpl" autowire="byName" />
	<bean id="UserPropertyDAO" class="ca.openosp.openo.commn.dao.UserPropertyDAOImpl" autowire="byName" />
	<!-- <bean id="demographicDao" class="org.oscarehr.commons.daos.DemographicDaoImpl" autowire="byName" /> -->
	<bean id="dataExportDAO" class="ca.openosp.openo.commn.dao.DataExportDaoImpl" autowire="byName" />
	<bean id="siteDao" class="ca.openosp.openo.commn.dao.SiteDaoImpl" autowire="byName" />
	<bean id="BillingmasterDAO" class="ca.openosp.openo.billings.ca.bc.data.BillingmasterDAO" autowire="byName" />
	<bean id="BillingPreferencesDAO" class="ca.openosp.openo.billings.ca.bc.data.BillingPreferencesDAO" autowire="byName" />
	<bean id="PrivateBillTransactionDAO" class="ca.openosp.openo.billings.ca.bc.data.PrivateBillTransactionsDAO" autowire="byName" />
	<bean id="SupServiceCodeAssocDAO" class="ca.openosp.openo.billings.ca.bc.data.SupServiceCodeAssocDAO" autowire="byName" />
	<bean id="BillingreferralDAO" class="ca.openosp.openo.commn.dao.BillingreferralDaoImpl" autowire="byName" />
	<bean id="DxresearchDAO" class="ca.openosp.openo.commn.dao.DxresearchDAOImpl" autowire="byName" />
	<bean id="icd9Dao" class="ca.openosp.openo.commn.dao.Icd9DaoImpl" autowire="byName" />
	<bean id="defaultIssueDao" class="ca.openosp.openo.daos.DefaultIssueDaoImpl" autowire="byName" />
	
	<bean id="rourke2009Dao" class="ca.openosp.openo.commn.dao.forms.Rourke2009DAO" autowire="byName" />

	<bean id="lookupDao" class="ca.openosp.openo.daos.LookupDaoImpl" autowire="byName" />
	<bean id="documentDao" class="ca.openosp.openo.commn.dao.DocumentMergeDemographicDAOImpl" autowire="byName" />
	<bean id="userAccessDao" class="ca.openosp.openo.daos.security.UserAccessDaoImpl" autowire="byName" />
	<bean id="demographicExtDao" class="ca.openosp.openo.commn.dao.DemographicExtDaoImpl" autowire="byName" />
	<bean id="providerDefaultProgramDao" class="ca.openosp.openo.commn.dao.ProviderDefaultProgramDaoImpl" autowire="byName" />
	<bean id="providerInboxRoutingDAO" class="ca.openosp.openo.commn.dao.ProviderInboxRoutingDaoImpl" autowire="byName"/>
	<bean id="ProviderLabRoutingFavoritesDao" class="ca.openosp.openo.commn.dao.ProviderLabRoutingFavoritesDaoImpl" autowire="byName"/>

        <bean id="queueDocumentLinkDAO" class="ca.openosp.openo.commn.dao.QueueDocumentLinkDaoImpl" autowire="byName"/>

	<bean id="caseloadDao" class="ca.openosp.openo.commn.dao.CaseloadDaoImpl" autowire="byName" />
	<bean id="inboxResultsDao" class="ca.openosp.openo.commn.dao.InboxResultsDaoImpl" autowire="byName" />
    <bean id="inboxResultsRepository" class="ca.openosp.openo.commn.dao.InboxResultsRepositoryImpl" autowire="byName" />
    <bean id="securityDao" class="ca.openosp.openo.commn.dao.SecurityDaoImpl" autowire="byName" />
    <bean id="oscarLogDao" class="ca.openosp.openo.commn.dao.OscarLogDaoImpl" autowire="byName" />
    <bean id="providerPreferenceDao" class="ca.openosp.openo.commn.dao.ProviderPreferenceDaoImpl" autowire="byName" />
    <bean id="EFormDao" class="ca.openosp.openo.commn.dao.EFormDaoImpl" autowire="byName" />
    <bean id="encounterFormDao" class="ca.openosp.openo.commn.dao.EncounterFormDaoImpl" autowire="byName" />
    <bean id="systemMessageDao" class="ca.openosp.openo.commn.dao.SystemMessageDaoImpl" autowire="byName" />
    <bean id="billingPaymentTypeDao" class="ca.openosp.openo.commn.dao.BillingPaymentTypeDaoImpl" autowire="byName" />
    <bean id="billingONPaymentDao" class="ca.openosp.openo.commn.dao.BillingONPaymentDaoImpl" autowire="byName" />
	

	<!-- Dao classes that implement OscarSuperDao -->
	<bean id="providerSuperDao" class="ca.openosp.openo.dao.ProviderDao" autowire="byName" />
	

	<bean id="eChartDao" class="ca.openosp.openo.commn.dao.EChartDaoImpl" autowire="byName" />
	<bean id="encounterWindowDao" class="ca.openosp.openo.commn.dao.EncounterWindowDaoImpl" autowire="byName" />

	<!-- OSCAR Desicion Support -->
	<bean id="dsService" class="ca.openosp.openo.decisionSupport.service.DSServiceImpl">
	</bean>

	<!--Container for holding preventions -->
	<bean id="preventionMgr" class="ca.openosp.openo.provider.model.PreventionManager"></bean>


	<!-- OscarSuperManager manager provides business logic facade for jsp layer -->
	<bean id="oscarSuperManager" class="ca.openosp.openo.service.OscarSuperManagerImpl" autowire="byName" init-method="init"/>

	<bean id="lookupManager" class="ca.openosp.openo.services.LookupManagerImpl" autowire="byName">
		<property name="lookupDao" ref="lookupDao" />
	</bean>
	<bean id="userAccessManager" class="ca.openosp.openo.services.security.UserAccessManagerImpl" autowire="byName">
		<property name="userAccessDao" ref="userAccessDao" />
	</bean>

	<!-- configure the available measurement flow sheets -->
	<bean id="measurementTemplateFlowSheet" class="ca.openosp.openo.encounter.oscarMeasurements.MeasurementTemplateFlowSheetConfig">
		<property name="flowSheets">
			<list>
				<!--value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/diabetesFlowsheet.xml</value-->
				<!--value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/hypertensionFlowsheet.xml</value-->
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/hivFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/inrFlowsheet.xml</value>
				<!--value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdChf.xml</value-->
				<!--value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/inrFlowsheet2.xml</value-->


				<!--<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/physicalFunctionFlowsheet.xml</value -->
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdAsthmaFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdCOPDFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdChf.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdHypertensionFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/omdDiabetesFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/diabetesQueensFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/ckdFlowsheet.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/painAssistant.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/periodicHealthVisit.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/healthTracker.xml</value>
				<value>classpath:oscar/oscarEncounter/oscarMeasurements/flowsheets/hepCFlowsheet.xml</value>
				
			</list>
		</property>
	</bean>

	<!-- managers  -->
	<bean id="agencyManager" class="ca.openosp.openo.PMmodule.service.AgencyManagerImpl" autowire="byName" />
	<bean id="facilityMessageManager" class="ca.openosp.openo.services.OrganizationMessageManagerImpl">
	</bean>

	<!-- Manager classes -->
	<bean id="programQueueManager" class="ca.openosp.openo.PMmodule.service.ProgramQueueManagerImpl" autowire="byName" />
	<bean id="admissionManager" class="ca.openosp.openo.PMmodule.service.AdmissionManagerImpl" autowire="byType" />
	
	<bean id="caseManagementManager" class="ca.openosp.openo.casemgmt.service.CaseManagementManagerImpl" autowire="byName">
		<property name="caseManagementNoteDAO" ref="CaseManagementNoteDAO" />
		<property name="caseManagementNoteExtDAO" ref="CaseManagementNoteExtDAO" />
		<property name="caseManagementNoteLinkDAO" ref="CaseManagementNoteLinkDAO" />
		<property name="caseManagementIssueDAO" ref="CaseManagementIssueDAO" />
		<property name="caseManagementTmpSaveDao" ref="CaseManagementTmpSaveDao" />
		<property name="caseManagementCPPDAO" ref="CaseManagementCPPDAO" />
		<property name="issueDAO" ref="IssueDAO" />
		<property name="demographicDao" ref="demographicDao" />
		<property name="roleProgramAccessDAO" ref="RoleProgramAccessDAO" />
		
		<property name="userPropertyDAO" ref="UserPropertyDAO" />
		<property name="rolesManager" ref="rolesManager" />
		<property name="admissionManager" ref="admissionManager" />
		<property name="enabled" value="${casemgmt.note.password.enabled}" />
		<property name="programManager" ref="programManager" />
		<property name="dxresearchDAO" ref="DxresearchDAO" />
		<property name="programProviderDao" ref="programProviderDAO" />
		<property name="programAccessDAO" ref="programAccessDAO" />
		<property name="eChartDao" ref="eChartDao"/>
		<property name="encounterWindowDao" ref="encounterWindowDao"/>
		
		<property name="appointmentArchiveDao" ref="appointmentArchiveDao" />
		<property name="dxDao" ref="DxDao" />
	</bean>

	<bean id="ClientImageManager" class="ca.openosp.openo.casemgmt.service.ClientImageManagerImpl" autowire="byName" />
	<bean id="programManager" class="ca.openosp.openo.PMmodule.service.ProgramManagerImpl" autowire="byName">
		<property name="enabled" value="${pmm.refer.temporaryAdmission.enabled}" />
	</bean>
	<bean id="clientManager" class="ca.openosp.openo.PMmodule.service.ClientManagerImpl" autowire="byName">
		<property name="demographicDao" ref="demographicDao" />
		<property name="clientReferralDAO" ref="clientReferralDAO" />
		<property name="programQueueManager" ref="programQueueManager" />
		<property name="admissionManager" ref="admissionManager" />
		<property name="clientRestrictionManager" ref="clientRestrictionManager" />
		<property name="demographicExtDao" ref="demographicExtDao" />
		<property name="outsideOfDomainEnabled" value="${pmm.client.search.outside.of.domain.enabled}" />
	</bean>

	
 	<bean id="demographicManagerT" class="ca.openosp.openo.services.DemographicManagerTickler">
		<property name="demographicDao" ref="demographicDao" />
	</bean>
	<bean id="preparedTicklerManagerT" class="ca.openosp.openo.wl.prepared.PreparedTicklerManagerImpl" scope="singleton" />
	<bean id="providerManager" class="ca.openosp.openo.PMmodule.service.ProviderManagerImpl" autowire="byName" />
	<bean id="clientRestrictionManager" class="ca.openosp.openo.PMmodule.service.ClientRestrictionManagerImpl" autowire="byName" />

	<bean id="ectProgramManager" class="ca.openosp.openo.encounter.data.EctProgramManagerImpl">
		<constructor-arg ref="demographicDao" />
		<constructor-arg ref="programProviderDAO" />
		<constructor-arg ref="providerDefaultProgramDao" />
		<constructor-arg ref="programDao" />
	</bean>
	
	<!-- Admin Start -->
	<bean id="secobjprivilegeDao" class="ca.openosp.openo.daos.security.SecobjprivilegeDaoImpl" autowire="byName" />
	<bean id="secProviderDao" class="ca.openosp.openo.daos.security.SecProviderDaoImpl" autowire="byName" />
	<bean id="secuserroleDao" class="ca.openosp.openo.daos.security.SecuserroleDaoImpl" autowire="byName" />
        <bean id="secObjectNameDao" class="ca.openosp.openo.daos.security.SecObjectNameDaoImpl" autowire="byName"/>

	<bean id="rolesManager" class="ca.openosp.openo.services.security.RolesManagerImpl" autowire="byName">
		<property name="secroleDao" ref="secroleDao" />
		<property name="secobjprivilegeDao" ref="secobjprivilegeDao" />
	</bean>

	<bean id="drilldownQueryHandler" class="ca.openosp.openo.dashboard.handler.DrilldownQueryHandler" autowire="byName" />
	<bean id="indicatorQueryHandler" class="ca.openosp.openo.dashboard.handler.IndicatorQueryHandler" autowire="byName" />
	<bean id="exportQueryHandler" class="ca.openosp.openo.dashboard.handler.ExportQueryHandler" autowire="byName" />
		
	<bean id="extPrintMeasurements" class="ca.openosp.openo.casemgmt.service.MeasurementPrint" autowire="byName"/>

	<!-- Encounter Form DAO -->
	<bean id="Rourke2009DAO" class="ca.openosp.openo.commn.dao.forms.Rourke2009DAO" autowire="byName"/>
	<bean id="FormBCAR2020Dao" class="ca.openosp.openo.commn.dao.forms.FormBCAR2020Dao" autowire="byName"/>
	<bean id="FormBCAR2020DataDao" class="ca.openosp.openo.commn.dao.forms.FormBCAR2020DataDao" autowire="byName"/>
	<bean id="FormBCAR2020TextDao" class="ca.openosp.openo.commn.dao.forms.FormBCAR2020TextDao" autowire="byName"/>



	<!--<bean id="preventionMgr" class="org.oscarehr.managers.PreventionManagerImpl"></bean>-->
	<!-- <bean id="allergyManager" class="org.oscarehr.managers.AllergyManagerImpl"></bean>
	<bean id="programManager2" class="org.oscarehr.managers.ProgramManager2Impl"></bean>
	<bean id="measurementManager" class="org.oscarehr.managers.MeasurementManagerImpl"></bean>
	<bean id="prescriptionManager" class="org.oscarehr.managers.PrescriptionManagerImpl"></bean>
	<bean id="formsManager" class="org.oscarehr.managers.FormsManagerImpl"></bean>
	<bean id="drugDispensingManager" class="org.oscarehr.managers.DrugDispensingManagerImpl"></bean>
	<bean id="drugProductManager" class="org.oscarehr.managers.DrugProductManagerImpl"></bean>
	<bean id="rxManager" class="org.oscarehr.managers.RxManagerImpl"></bean> -->
	<!-- <bean id="drugConverter" class="org.oscarehr.webservbserv.rest.conversion.DrugConverterImpl"></bean>
	<bean id="prescriptionConverter" class="org.oscarehr.webservbserv.rest.conversion.PrescriptionConverterImpl"></bean>
	<bean id="favoriteConverter" class="org.oscarehr.webservbserv.rest.conversion.FavoriteConverterImpl"></bean> -->
	<!-- <bean id="consultationManager" class="org.oscarehr.managers.ConsultationManagerImpl"></bean>
	<bean id="demographicManager" class="org.oscarehr.managers.DemographicManagerImpl"></bean>
	<bean id="appManager" class="org.oscarehr.managers.AppManagerImpl"></bean>
	<bean id="billingManager" class="org.oscarehr.managers.BillingManagerImpl"></bean> -->
	<!--<bean id="admissionManager" class="ca.openosp.openo.service.PMmodule.AdmissionManagerImpl"></bean> -->
	<!-- <bean id="drugLookUp" class="org.oscarehr.managers.DrugLookUp"></bean>
	<bean id="documentManager" class="org.oscarehr.managers.DocumentManagerImpl"></bean>
	<bean id="scheduleManager" class="org.oscarehr.managers.ScheduleManagerImpl"></bean>
	<bean id="appointmentManager" class="org.oscarehr.managers.AppointmentManagerImpl"></bean> -->
	<!--<bean id="providerManager" class="ca.openosp.openo.service.PMmodule.ProviderManagerImpl"></bean>-->
	<!-- <bean id="preferenceManager" class="org.oscarehr.managers.PreferenceManagerImpl"></bean>
	<bean id="demographicSetsManager" class="org.oscarehr.managers.DemographicSetsManagerImpl"></bean>
	<bean id="eFormReportToolManager" class="org.oscarehr.managers.EFormReportToolManagerImpl"></bean>
	<bean id="oscarJobManager" class="org.oscarehr.managers.OscarJobManagerImpl"></bean>
	<bean id="ticklerManager" class="org.oscarehr.managers.TicklerManagerImpl"></bean> -->
	<!-- <bean id="ticklerConverter" class="org.oscarehr.webservbserv.rest.conversion.TicklerConverter"></bean>
<bean id="dSService" class="org.oscarehr.decisionSupport.service.DSService"></bean> -->
<!--<bean id="programManager" class="ca.openosp.openo.service.PMmodule.ProgramManagerImpl"></bean>-->
<!-- <bean id="messagingManager" class="org.oscarehr.managers.MessagingManagerImpl"></bean>
<bean id="dashboardManager" class="org.oscarehr.managers.DashboardManagerImpl"></bean>
<bean id="oscarLogManager" class="org.oscarehr.managers.OscarLogManagerImpl"></bean>
<bean id="patientConsentManager" class="org.oscarehr.managers.PatientConsentManagerImpl"></bean> -->
<!-- <bean id="messagingConverter" class="org.oscarehr.webservbserv.rest.conversion.MessagingConverter"></bean> -->
<!-- <bean id="labManager" class="org.oscarehr.managers.LabManagerImpl"></bean>
<bean id="inboxManager" class="org.oscarehr.managers.InboxManagerImpl"></bean>
<bean id="appointmentSearchManager" class="org.oscarehr.managers.AppointmentSearchManagerImpl"></bean>
<bean id="facilityManager" class="org.oscarehr.managers.FacilityManagerImpl"></bean> -->
<!-- <bean id="vacancyTemplateManager" class="ca.openosp.openo.service.PMmodule.VacancyTemplateManagerImpl"></bean> -->
 <!-- <bean id="eformDataManager" class="org.oscarehr.managers.EformDataManagerImpl"></bean> -->
<!--<bean id="nioFileManager" class="org.oscarehr.managers.NioFileManagerImpl"></bean> -->
<!-- <bean id="preventionDS" class="oscar.oscarPrevention.PreventionDSImpl"></bean>
<bean id="integratorProgressDao" class="org.oscarehr.commons.daos.IntegratorProgressDaoImpl"></bean> -->
<!-- <bean id="messengerDemographicManager" class="org.oscarehr.managers.MessengerDemographicManagerImpl"></bean> -->
<!-- <bean id="documentAttachmentManager" class="org.oscarehr.documentManager.DocumentAttachmentManagerImpl"></bean> -->
<!-- <bean id="faxDocumentManager" class="org.oscarehr.managers.FaxDocumentManagerImpl"></bean> -->






	<!--Email Support -->
        <context:component-scan base-package="ca.openosp.openo.service"/>

        <bean id="taskExecutor" class="org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor" p:corePoolSize="5"
          p:maxPoolSize="10" p:queueCapacity="100" p:waitForTasksToCompleteOnShutdown="true"/>

        <bean id="asyncMailSender" class="ca.openosp.openo.service.AsyncMailSender" autowire="byName">
           <property name="taskExecutor" ref="taskExecutor" />
        </bean>

		<!--
			TODO: This mailing configuration will not be needed anymore as the new email feature (EmailManager)
			will store and fetch configurations directly from the database.
		-->
        <bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl">
            <property name="host" value="${email.host}"/>
            <property name="port" value="${email.port}" />
            <property name="protocol" value="${email.protocol}" />
            <property name="username" value="${email.username}" />
            <property name="password" value="${email.password}" />

            <property name="javaMailProperties">
               <props>
                  <prop key="mail.smtp.auth">${email.smtp.auth:true}</prop>
                  <prop key="mail.smtp.starttls.enable">${email.starttls.enable:true}</prop>
               </props>
            </property>
        </bean>
		
		<bean id="eventService" class="ca.openosp.openo.event.EventService"/>
		<bean id="applicationEventMulticaster" class="org.springframework.context.event.SimpleApplicationEventMulticaster">  
              <property name="taskExecutor">  
                  <!--  bean class="org.springframework.core.task.SimpleAsyncTaskExecutor"/ -->  
                  <bean class="org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor"/>
              </property>  
		</bean>
		
<!-- 		
		<task:executor id="taskExecutor" />
		-->
		<task:scheduler id="taskScheduler" />
		
		
</beans>
